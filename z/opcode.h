#ifndef __OPCODE_H_
#define __OPCODE_H_

#include "vm.h"

#define OP_NIL           ((Instruction)0x00)
#define OP_FALSE         ((Instruction)0x01)
#define OP_TRUE          ((Instruction)0x02)
#define OP_NUMBER        ((Instruction)0x03)
#define OP_STRING        ((Instruction)0x04)
#define OP_ADD           ((Instruction)0x05)
#define OP_SUB           ((Instruction)0x06)
#define OP_MUL           ((Instruction)0x07)
#define OP_DIV           ((Instruction)0x08)
#define OP_JUMP          ((Instruction)0x09)
#define OP_JUMP_IF_FALSE ((Instruction)0x0a)
#define OP_PRINT         ((Instruction)0x0b)
#define OP_HALT          ((Instruction)0x0c)

#define dispatch_table()                \
  static void *_computed_gotos[256] = { \
    &&_computed_goto_OP_NIL,            \
    &&_computed_goto_OP_FALSE,          \
    &&_computed_goto_OP_TRUE,           \
    &&_computed_goto_OP_NUMBER,         \
    &&_computed_goto_OP_STRING,         \
    &&_computed_goto_OP_ADD,            \
    &&_computed_goto_OP_SUB,            \
    &&_computed_goto_OP_MUL,            \
    &&_computed_goto_OP_DIV,            \
    &&_computed_goto_OP_JUMP,           \
    &&_computed_goto_OP_JUMP_IF_FALSE,  \
    &&_computed_goto_OP_PRINT,          \
    &&_computed_goto_OP_HALT,           \
    &&_computed_goto_ERROR,             \
    &&_computed_goto_ERROR,             \
    &&_computed_goto_ERROR,             \
    &&_computed_goto_ERROR,             \
    &&_computed_goto_ERROR,             \
    &&_computed_goto_ERROR,             \
    &&_computed_goto_ERROR,             \
    &&_computed_goto_ERROR,             \
    &&_computed_goto_ERROR,             \
    &&_computed_goto_ERROR,             \
    &&_computed_goto_ERROR,             \
    &&_computed_goto_ERROR,             \
    &&_computed_goto_ERROR,             \
    &&_computed_goto_ERROR,             \
    &&_computed_goto_ERROR,             \
    &&_computed_goto_ERROR,             \
    &&_computed_goto_ERROR,             \
    &&_computed_goto_ERROR,             \
    &&_computed_goto_ERROR,             \
    &&_computed_goto_ERROR,             \
    &&_computed_goto_ERROR,             \
    &&_computed_goto_ERROR,             \
    &&_computed_goto_ERROR,             \
    &&_computed_goto_ERROR,             \
    &&_computed_goto_ERROR,             \
    &&_computed_goto_ERROR,             \
    &&_computed_goto_ERROR,             \
    &&_computed_goto_ERROR,             \
    &&_computed_goto_ERROR,             \
    &&_computed_goto_ERROR,             \
    &&_computed_goto_ERROR,             \
    &&_computed_goto_ERROR,             \
    &&_computed_goto_ERROR,             \
    &&_computed_goto_ERROR,             \
    &&_computed_goto_ERROR,             \
    &&_computed_goto_ERROR,             \
    &&_computed_goto_ERROR,             \
    &&_computed_goto_ERROR,             \
    &&_computed_goto_ERROR,             \
    &&_computed_goto_ERROR,             \
    &&_computed_goto_ERROR,             \
    &&_computed_goto_ERROR,             \
    &&_computed_goto_ERROR,             \
    &&_computed_goto_ERROR,             \
    &&_computed_goto_ERROR,             \
    &&_computed_goto_ERROR,             \
    &&_computed_goto_ERROR,             \
    &&_computed_goto_ERROR,             \
    &&_computed_goto_ERROR,             \
    &&_computed_goto_ERROR,             \
    &&_computed_goto_ERROR,             \
    &&_computed_goto_ERROR,             \
    &&_computed_goto_ERROR,             \
    &&_computed_goto_ERROR,             \
    &&_computed_goto_ERROR,             \
    &&_computed_goto_ERROR,             \
    &&_computed_goto_ERROR,             \
    &&_computed_goto_ERROR,             \
    &&_computed_goto_ERROR,             \
    &&_computed_goto_ERROR,             \
    &&_computed_goto_ERROR,             \
    &&_computed_goto_ERROR,             \
    &&_computed_goto_ERROR,             \
    &&_computed_goto_ERROR,             \
    &&_computed_goto_ERROR,             \
    &&_computed_goto_ERROR,             \
    &&_computed_goto_ERROR,             \
    &&_computed_goto_ERROR,             \
    &&_computed_goto_ERROR,             \
    &&_computed_goto_ERROR,             \
    &&_computed_goto_ERROR,             \
    &&_computed_goto_ERROR,             \
    &&_computed_goto_ERROR,             \
    &&_computed_goto_ERROR,             \
    &&_computed_goto_ERROR,             \
    &&_computed_goto_ERROR,             \
    &&_computed_goto_ERROR,             \
    &&_computed_goto_ERROR,             \
    &&_computed_goto_ERROR,             \
    &&_computed_goto_ERROR,             \
    &&_computed_goto_ERROR,             \
    &&_computed_goto_ERROR,             \
    &&_computed_goto_ERROR,             \
    &&_computed_goto_ERROR,             \
    &&_computed_goto_ERROR,             \
    &&_computed_goto_ERROR,             \
    &&_computed_goto_ERROR,             \
    &&_computed_goto_ERROR,             \
    &&_computed_goto_ERROR,             \
    &&_computed_goto_ERROR,             \
    &&_computed_goto_ERROR,             \
    &&_computed_goto_ERROR,             \
    &&_computed_goto_ERROR,             \
    &&_computed_goto_ERROR,             \
    &&_computed_goto_ERROR,             \
    &&_computed_goto_ERROR,             \
    &&_computed_goto_ERROR,             \
    &&_computed_goto_ERROR,             \
    &&_computed_goto_ERROR,             \
    &&_computed_goto_ERROR,             \
    &&_computed_goto_ERROR,             \
    &&_computed_goto_ERROR,             \
    &&_computed_goto_ERROR,             \
    &&_computed_goto_ERROR,             \
    &&_computed_goto_ERROR,             \
    &&_computed_goto_ERROR,             \
    &&_computed_goto_ERROR,             \
    &&_computed_goto_ERROR,             \
    &&_computed_goto_ERROR,             \
    &&_computed_goto_ERROR,             \
    &&_computed_goto_ERROR,             \
    &&_computed_goto_ERROR,             \
    &&_computed_goto_ERROR,             \
    &&_computed_goto_ERROR,             \
    &&_computed_goto_ERROR,             \
    &&_computed_goto_ERROR,             \
    &&_computed_goto_ERROR,             \
    &&_computed_goto_ERROR,             \
    &&_computed_goto_ERROR,             \
    &&_computed_goto_ERROR,             \
    &&_computed_goto_ERROR,             \
    &&_computed_goto_ERROR,             \
    &&_computed_goto_ERROR,             \
    &&_computed_goto_ERROR,             \
    &&_computed_goto_ERROR,             \
    &&_computed_goto_ERROR,             \
    &&_computed_goto_ERROR,             \
    &&_computed_goto_ERROR,             \
    &&_computed_goto_ERROR,             \
    &&_computed_goto_ERROR,             \
    &&_computed_goto_ERROR,             \
    &&_computed_goto_ERROR,             \
    &&_computed_goto_ERROR,             \
    &&_computed_goto_ERROR,             \
    &&_computed_goto_ERROR,             \
    &&_computed_goto_ERROR,             \
    &&_computed_goto_ERROR,             \
    &&_computed_goto_ERROR,             \
    &&_computed_goto_ERROR,             \
    &&_computed_goto_ERROR,             \
    &&_computed_goto_ERROR,             \
    &&_computed_goto_ERROR,             \
    &&_computed_goto_ERROR,             \
    &&_computed_goto_ERROR,             \
    &&_computed_goto_ERROR,             \
    &&_computed_goto_ERROR,             \
    &&_computed_goto_ERROR,             \
    &&_computed_goto_ERROR,             \
    &&_computed_goto_ERROR,             \
    &&_computed_goto_ERROR,             \
    &&_computed_goto_ERROR,             \
    &&_computed_goto_ERROR,             \
    &&_computed_goto_ERROR,             \
    &&_computed_goto_ERROR,             \
    &&_computed_goto_ERROR,             \
    &&_computed_goto_ERROR,             \
    &&_computed_goto_ERROR,             \
    &&_computed_goto_ERROR,             \
    &&_computed_goto_ERROR,             \
    &&_computed_goto_ERROR,             \
    &&_computed_goto_ERROR,             \
    &&_computed_goto_ERROR,             \
    &&_computed_goto_ERROR,             \
    &&_computed_goto_ERROR,             \
    &&_computed_goto_ERROR,             \
    &&_computed_goto_ERROR,             \
    &&_computed_goto_ERROR,             \
    &&_computed_goto_ERROR,             \
    &&_computed_goto_ERROR,             \
    &&_computed_goto_ERROR,             \
    &&_computed_goto_ERROR,             \
    &&_computed_goto_ERROR,             \
    &&_computed_goto_ERROR,             \
    &&_computed_goto_ERROR,             \
    &&_computed_goto_ERROR,             \
    &&_computed_goto_ERROR,             \
    &&_computed_goto_ERROR,             \
    &&_computed_goto_ERROR,             \
    &&_computed_goto_ERROR,             \
    &&_computed_goto_ERROR,             \
    &&_computed_goto_ERROR,             \
    &&_computed_goto_ERROR,             \
    &&_computed_goto_ERROR,             \
    &&_computed_goto_ERROR,             \
    &&_computed_goto_ERROR,             \
    &&_computed_goto_ERROR,             \
    &&_computed_goto_ERROR,             \
    &&_computed_goto_ERROR,             \
    &&_computed_goto_ERROR,             \
    &&_computed_goto_ERROR,             \
    &&_computed_goto_ERROR,             \
    &&_computed_goto_ERROR,             \
    &&_computed_goto_ERROR,             \
    &&_computed_goto_ERROR,             \
    &&_computed_goto_ERROR,             \
    &&_computed_goto_ERROR,             \
    &&_computed_goto_ERROR,             \
    &&_computed_goto_ERROR,             \
    &&_computed_goto_ERROR,             \
    &&_computed_goto_ERROR,             \
    &&_computed_goto_ERROR,             \
    &&_computed_goto_ERROR,             \
    &&_computed_goto_ERROR,             \
    &&_computed_goto_ERROR,             \
    &&_computed_goto_ERROR,             \
    &&_computed_goto_ERROR,             \
    &&_computed_goto_ERROR,             \
    &&_computed_goto_ERROR,             \
    &&_computed_goto_ERROR,             \
    &&_computed_goto_ERROR,             \
    &&_computed_goto_ERROR,             \
    &&_computed_goto_ERROR,             \
    &&_computed_goto_ERROR,             \
    &&_computed_goto_ERROR,             \
    &&_computed_goto_ERROR,             \
    &&_computed_goto_ERROR,             \
    &&_computed_goto_ERROR,             \
    &&_computed_goto_ERROR,             \
    &&_computed_goto_ERROR,             \
    &&_computed_goto_ERROR,             \
    &&_computed_goto_ERROR,             \
    &&_computed_goto_ERROR,             \
    &&_computed_goto_ERROR,             \
    &&_computed_goto_ERROR,             \
    &&_computed_goto_ERROR,             \
    &&_computed_goto_ERROR,             \
    &&_computed_goto_ERROR,             \
    &&_computed_goto_ERROR,             \
    &&_computed_goto_ERROR,             \
    &&_computed_goto_ERROR,             \
    &&_computed_goto_ERROR,             \
    &&_computed_goto_ERROR,             \
    &&_computed_goto_ERROR,             \
    &&_computed_goto_ERROR,             \
    &&_computed_goto_ERROR,             \
    &&_computed_goto_ERROR,             \
    &&_computed_goto_ERROR,             \
    &&_computed_goto_ERROR,             \
    &&_computed_goto_ERROR,             \
    &&_computed_goto_ERROR,             \
    &&_computed_goto_ERROR,             \
    &&_computed_goto_ERROR,             \
    &&_computed_goto_ERROR              \
  }

#endif
